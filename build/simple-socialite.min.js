var check,tries,__slice=[].slice;null==window.SimpleSocialite&&(window.SimpleSocialite={}),tries=0,(check=function(){return function(){var t,o,n,i,e,s,r,a,u;return"undefined"==typeof jQuery||null===jQuery?6e3>tries?(tries++,setTimeout(check,10)):"undefined"!=typeof console&&null!==console&&console.log("Gave up trying to render your social buttons. Make sure jQuery is getting on the page at some point."):(t=jQuery,o="true"==="{% settings.DEBUG %}".toLowerCase()||!1,s=function(){var t;return t=1<=arguments.length?__slice.call(arguments,0):[],o&&"undefined"!=typeof console&&null!==console&&console.log.apply(console,t)},t.fn.getDataOptions=function(){var o,n;return n={},o=t(this)[0],t.each(o.attributes,function(){return function(o,i){var e,s;return i.nodeName.match(/^data-/)?(s=i.nodeValue,e=i.nodeName.replace(/^data-/,""),n[e]=e.match(/options$/)?t.optionsFromQueryString(s):s):!0}}(this)),n},t.optionsFromQueryString=function(o){var n,i;return n={},i=o.split(/(?:&(?:amp;)?|=)/),t.each(i,function(){return function(t,o){return t%2?n[i[t-1]]=decodeURIComponent(o):void 0}}(this)),s(n),n},a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},r=/[&<>"'\/]/g,t.safeString=function(t){return(""+t).replace(r,function(t){return a[t]})},e=function(){function o(t,o){this.provider=t,this.options=o}return null==o._customNames&&(o._customNames={"twitter-share":"Twitter","facebook-like":"Facebook","pinterest-pinit":"Pinterest","googleplus-one":"Google Plus"}),o.customNames=function(){return this._customNames},o.registerCustomName=function(t,o){if(null!=this.customNames()[t])throw"Custom name "+t+" is already registered.";return this._customNames[t]=o},o.prototype.to_html_params=function(){var o;return o="",this.options=new n(this.provider,this.options).translate(),t.each(this.options,function(){return function(n,i){var e;return e=t.safeString(i),o+="data-"+n+'="'+e+'" '}}(this)),o.replace(/\ $/,"")},o.prototype.provider_display=function(){return this.constructor.customNames()[this.provider]||function(o){return function(){var n,i;return n=o.provider.replace(/-simple$/,""),i=n.split(" "),t.each(i,function(t,o){return i[t]=o.charAt(0).toUpperCase()+o.slice(1)}),i.join(" ")}}(this)()},o.prototype.render=function(){return"<a href='' class='socialite "+this.provider+"' "+this.to_html_params()+">Share on "+this.provider_display()+"</a>"},o}(),window.SimpleSocialite.ShareButton=e,i=function(){function o(o){this.wrapper=o,this.wrapper=t(this.wrapper),this.options=t.extend({},this.constructor.defaults(),t(this.wrapper).getDataOptions()),this.buttons=[],t.each(this.options.services.split(/, ?/),function(o){return function(n,i){var s;return s=o.constructor.serviceMappings()[i]||i,o.buttons.push(new e(s,t.extend({},o.constructor.services()[s],o.options.options,o.options[""+s+"-options"],o.options[""+i+"-options"])))}}(this))}return o._container=t("<table style='vertical-align:middle;'><tbody></tbody></table>"),o._defaults={layout:"horizontal",shortURLs:"never",showTooltips:!1},o._services={"twitter-simple":{},"twitter-share":{},"twitter-follow":{},"twitter-mention":{},"twitter-hashtag":{},"twitter-embed":{},"facebook-like":{},"facebook-simple":{},"googleplus-simple":{},"googleplus-one":{},"linkedin-share":{},"linkedin-simple":{},"linkedin-recommend":{},"pinterest-pinit":{},"spotify-play":{},"hackernews-share":{},"github-watch":{},"github-fork":{},"github-follow":{},"tumblr-simple":{},"email-simple":{}},o._serviceMappings={twitter:"twitter-simple","twitter-tweet":"twitter-share",facebook:"facebook-simple",googleplus:"googleplus-simple","google-plusone":"googleplus-one",linkedin:"linkedin-simple",pinterest:"pinterest-pinit",tumblr:"tumblr-simple",email:"email-simple"},o.container=function(){return this._container.clone()},o.setContainer=function(o){return this._container=t(o)},o.defaults=function(){return this._defaults},o.setDefault=function(t,o){return null==this._defaults&&(this._defaults=this.defaults()),this._defaults[t]=o,this._defaults},o.services=function(){return this._services},o.serviceMappings=function(){return this._serviceMappings},o.registerButton=function(t){var o,n,i,s;if(i=t.name,s=t.nickname,o=t.defaults||{},null!=t.displayName&&(n=t.displayName),null==t.name)throw"You must provide a name to register.";if(null!=this.services()[i]||null!=this.serviceMappings()[s])throw"Name "+i+" is already registered.";if(null!=this.serviceMappings()[s])throw"Nickname "+s+" is already registered.";return this._services[i]=o,this._serviceMappings[s]=i,null!=n?e.registerCustomName(i,n):void 0},o.prototype.render=function(){var o;return this.rendered=this.constructor.container(),o=this.rendered.find("tbody"),"horizontal"===this.options.layout&&(o=o.append("<tr></tr>").find("tr")),t.each(this.buttons,function(n){return function(i,e){var s;return s=t("<td>"+e.render()+"</td>"),"vertical"===n.options.layout&&(s=s.wrap("<tr></tr>").parents("tr")),o.append(s)}}(this)),this.wrapper.empty().append(this.rendered),s("loading contents of "+this.wrapper),Socialite.load(this.wrapper[0])},o}(),null==(u=window.SimpleSocialite).ShareBar&&(u.ShareBar=i),n=function(){function o(t,o){this.provider=t,this.options=o,this.translations={"twitter-share":function(t){return function(){return t.options.size||(t.options.size=t.options.width)&&delete t.options.width,t.options.text||(t.options.text=t.options.defaultText)&&delete t.options.defaultText,t.options.text||(t.options.text=t.options.title)&&delete t.options.title,t.options.lang&&(t.options.lang=t.options.lang.replace(/-.+$/,"")),t.options}}(this),"twitter-simple":function(t){return function(){return t.translations["twitter-share"]()}}(this),"facebook-like":function(t){return function(){return t.options.href||(t.options.href=t.options.url)&&delete t.options.url,t.options.layout||"right"===t.options.showCounts&&(t.options.layout="button_count"),t.options.lang&&(t.options.lang=t.options.lang.replace("-","_")),t.options}}(this),"googleplus-one":function(t){return function(){var o;return t.options.showCounts||t.options.annotation||(t.options.annotation="none"),t.options.showCounts&&!t.options.annotation&&("right"===(o=t.options.showCounts)||"top"===o)&&(delete t.options.annotation,"top"===t.options.showCounts&&(t.options.size="tall")),(24===t.options.size||16===t.options.size&&"right"===t.options.showCounts)&&delete t.options.size,16===t.options.size&&(t.options.size="small"),t.options.href||(t.options.href=t.options.url)&&delete t.options.url,t.options}}(this),"googleplus-share":function(t){return function(){return t.options.showCounts||t.options.annotation||(t.options.annotation="none"),t.options.annotation||("right"===t.options.showCounts&&(t.options.annotation="bubble"),"top"===t.options.showCounts&&(t.options.annotation="vertical-bubble")),16===t.options.size&&delete t.options.size,24===t.options.size&&(t.options.height=24,delete t.options.size),t.options.href||(t.options.href=t.options.url)&&delete t.options.url,t.options}}(this),"linkedin-share":function(t){return function(){return t.options.showCounts&&!t.options.counter?(t.options.counter=t.options.showCounts)&&delete t.options.showCounts:void 0}}(this)},window.optionMapper=this}return o.prototype.provider_icon_name=function(){return{"facebook-simple":"facebook","googleplus-one":"googleplus","googleplus-simple":"google-plus"}[this.provider]||this.provider.replace(/-simple$/,"")},o.prototype.button_img=function(){return"{% settings.ICON_BASE_URL %}/"+this.options.size+"/"+this.provider_icon_name()+".png"},o.prototype.translate=function(){var o,n,i;null==this.options.size&&(this.options.size=16),"string"!=typeof this.options.size||isNaN(parseInt(this.options.size,10))||(this.options.size=parseInt(this.options.size,10)),"number"==typeof this.options.size&&(this.options.size=16===(n=this.options.size)||24===n?this.options.size:16),this.options.url||null!=this.options.linkBack&&(this.options.url=this.options.linkBack)&&delete this.options.linkBack,this.options.url||(this.options.url=t('meta[property="og:url"]').attr("content")||location.href),this.options.title||(this.options.title=t('meta[property="og:title"]').attr("content")||document.title),this.options.icon||this.options.image||(this.options.icon="sficon-"+this.provider_icon_name()),null!=this.options.icon&&(this.options.sficon=this.options.icon)&&delete this.options.icon,("none"===(i=this.options.showCounts)||"false"===i||"never"===i)&&delete this.options.showCounts,this.options.lang||(this.options.lang="{% settings.DEFAULT_LANG %}");try{this.translations[this.provider]()}catch(e){o=e,s("Totally failed to resolve options: "+o+". Falling back to defaults"),this.options}return this.options},o}(),t(function(){var o,n,e,r,a,u,p;s("running onready bootstrap"),a=".share-buttons[data-socialite], .share-buttons[data-gigya]",e=function(o){var n;try{return t(o).data("sharebar",new i(o)),t(o).data("sharebar")}catch(e){return n=e,s("Caught error initializing sharebar: "+n)}},r=function(o){var n,i;o=t(o),i=o.attr("data-gigya")||t(o).attr("data-socialite");try{o.on(i,function(){return function(){return e(o[0]).render()}}(this))}catch(s){n=s,o.bind(i,function(){return function(){return e(o[0]).render()}}(this))}return o.trigger("auto")};try{t("body").on("register.simplesocialite",a,function(){return r(this)})}catch(l){o=l,t("body").delegate(a,"register.simplesocialite",function(){return r(this)})}return t(a).each(function(){return r(this)}),null!=window._gaq?(n=function(){return FB.Event.subscribe("edge.create",function(t){return s("tracking facebook"),_gaq.push(["_trackSocial","facebook","like",t])}),FB.Event.subscribe("edge.remove",function(t){return _gaq.push(["_trackSocial","facebook","unlike",t])})},window._fbAsyncInit=window.fbAsyncInit,window.fbAsyncInit=function(){return"function"==typeof window._fbAsyncInit&&window._fbAsyncInit(),n()},null!=window.FB&&n(),null!=window.twttr&&(p=function(n){var i;s("tracking twitter");try{i=n&&n.target&&"IFRAME"===n.target.nodeName?t.optionsFromQueryString(n.target.src.split("?")[1]).url:null}catch(e){o=e,i=null}return _gaq.push(["_trackSocial","twitter","tweet",i||location.href])},twttr.ready(function(t){return t.events.bind("tweet",p)})),u=function(o){var n,i;return i=t(o.target).hasClass(".socialite-instance")?t(o.target):t(o.target).parents(".socialite-instance").eq(0),n=i.attr("class").split(" ")[1],n.match(/twitter/)&&null!=window.twttr?void 0:(s("tracking "+n),_gaq.push(["_trackSocial",n,"share",location.href]))},null!=t().on&&t("body").on("click",".socialite-instance",u)||t("body").delegate(".socialite-instance","click",u)):void 0}))}}(this))();